<!DOCTYPE html>
<html>
<head>
	<title>跳转测试</title>
</head>
<body>
	<button style="width: 100px;height: 60px;margin: 100px auto;" onclick="go('taobao://item.taobao.com/item.htm?id=12688928896')">点击</button>
	<!--<button onclick="go('http://item.taobao.com/item.htm?id=12688928896')">点击</button>-->
	<script language="javascript">
		function go(url){
            if(isWeixinBrowser()){
                new TipWindow();
            }else if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i) ||
                      navigator.userAgent.match(/android/i)) {
			    var loadDateTime = new Date();
			    window.setTimeout(function() {
			    	var timeOutDateTime = new Date();
			      	if (timeOutDateTime - loadDateTime < 5000) {
			        	window.location = "http://www.baidu.com";
			      	} else {
			        	window.close();
			      	}
			    	},1000);
			    	window.location = url;
            }
		}
	  
	  	function isWeixinBrowser(){
	    	var ua = navigator.userAgent.toLowerCase();
	    	return (/micromessenger/.test(ua)) ? true : false ;
		}

        function TipWindow(){
            var tipCC = document.createElement('div');
            tipCC.innerHTML =
                '<div style="position: fixed;top: 0;left: 0;width: 100%;height: 100%;background: rgba(0,0,0,0.7);z-index: 1000000;">'+
                    '<div style="position: relative;height: 200px;border-radius: 5px;-webkit-border-radius: 5px;z-index: 1000001;margin: 0 auto;max-width: 960px;width: 100%;background: #f1f1f1;text-align: center;">' +
                          '请在浏览器内打开' +
                    '</div>' +
                '</div>';
            document.body.appendChild(tipCC);
            tipCC.onclick = function(){
                document.body.removeChild(tipCC);
            };
        }
	</script>
</body>
</html>